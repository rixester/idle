<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Calculadora Evolu√ß√£o RPG</title>
<style>
body {
    font-family: Arial;
    background-color: #111;
    color: #eee;
    padding: 20px;
}
button {
    padding: 6px 12px;
    cursor: pointer;
}
</style>
</head>
<body>

<h2>‚öîÔ∏è Calculadora de Evolu√ß√£o da Arma</h2>

<label>Almas Solicitadas na Purifica√ß√£o:</label><br>
<input type="number" id="lvAtual" value="1"><br><br>

<label>Level Desejado:</label><br>
<input type="number" id="lvDesejado" value="50"><br><br>

<label>Almas que possui:</label><br>
<input type="number" id="almasDisponiveis" value="1000000"><br><br>

<button onclick="calcular()">Calcular</button>

<hr>
<div id="resultado"></div>

<script>

// Formato com separador de milhares
function formatarNumero(num) {
    return num.toLocaleString('pt-BR');
}

// Formato abreviado estilo game
function formatarAbreviado(num) {
    if (num >= 1e12) return (num / 1e12).toFixed(2).replace(/\.00$/, '') + " t";
    if (num >= 1e9) return (num / 1e9).toFixed(2).replace(/\.00$/, '') + " b";
    if (num >= 1e6) return (num / 1e6).toFixed(2).replace(/\.00$/, '') + " m";
    if (num >= 1e3) return (num / 1e3).toFixed(2).replace(/\.00$/, '') + " k";
    return num;
}

function calcular() {

    let lvAtual = parseInt(document.getElementById("lvAtual").value);
    let lvDesejado = parseInt(document.getElementById("lvDesejado").value);
    let almasDisponiveis = parseInt(document.getElementById("almasDisponiveis").value);

    let aumento = 11;
    let totalNecessario = 0;
    let lvInicial = lvAtual/10;
    let lvBase = lvInicial;

    while (lvBase < lvDesejado) {
        let custo = lvBase * 50;
        totalNecessario += custo;
        lvBase += aumento;
    }

    // Simula√ß√£o com almas dispon√≠veis
    let lvSimulado = lvInicial;
    let almasRestantes = almasDisponiveis;

    while (true) {
        let custo = lvSimulado * 50;
        if (almasRestantes >= custo) {
            almasRestantes -= custo;
            lvSimulado += aumento;
        } else {
            break;
        }
    }

    let faltam = totalNecessario - almasDisponiveis;

    document.getElementById("resultado").innerHTML =
        `<strong>üí∞ Level Atual: ${formatarNumero(lvInicial)}</strong><br><br>
        <strong>üí∞ Total necess√°rio:</strong><br>
        ${formatarNumero(totalNecessario)} almas<br>
        (${formatarAbreviado(totalNecessario)})<br><br>

        <strong>üî• Com suas almas voc√™ chega at√©:</strong><br>
        Level ${formatarNumero(lvSimulado)}<br><br>

        ` +
        (faltam > 0 
            ? `<strong>‚ùå Faltam:</strong><br>
               ${formatarNumero(faltam)} almas<br>
               (${formatarAbreviado(faltam)})`
            : `<strong>‚úÖ Voc√™ consegue atingir o level desejado!</strong>`);
}
</script>

</body>
</html>
